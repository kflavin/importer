---
Type: "AWS::S3::Bucket"
Properties:
  BucketName: importer-${self:custom.environment}-mysqlbackup
  LifecycleConfiguration:
    Rules:
      - Prefix: backups
        ExpirationInDays: 7
        Status: Enabled
  PublicAccessBlockConfiguration:
    BlockPublicAcls: true
    IgnorePublicAcls: true
    BlockPublicPolicy: true
    RestrictPublicBuckets: true
DeletionPolicy: ${file(./serverless/mysql_backup/serverless.env.yml):${self:custom.environment}.deletion_policy}
