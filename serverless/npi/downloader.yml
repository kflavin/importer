---
handler: lambdas/npi/downloader.handler
environment:
  npi_log_table_name: ${file(./serverless/npi/serverless.env.yml):${self:custom.environment}.npi_log_table_name}
timeout: ${file(./serverless/npi/serverless.env.yml):${self:custom.environment}.downloader_timeout}
events:
  - schedule:
      rate: ${self:custom.schedule.npi.downloader.${self:custom.environment}.rate}
      enabled: ${self:custom.schedule.npi.downloader.${self:custom.environment}.enabled}
#      input:
#        debug: false
#        period: weekly
#        instance_type: ${file(./serverless/npi/serverless.env.yml):${self:custom.environment}.weekly_instance_type}
#        timeout: ${file(./serverless/npi/serverless.env.yml):${self:custom.environment}.timeout_weekly}